from flask import Blueprint, send_file, render_template
import os


result_blueprint = Blueprint('result', __name__)

@result_blueprint.route("/download/csv", methods=["GET", "POST"])
def download_csv():
	"""
	Download simulation result CSV files
	"""	

	path_files = os.path.join(os.getcwd(), 'files')
	path_file = os.path.join(path_files, 'result.zip')	

	# https://www.youtube.com/watch?v=sy1MNWt7om4
	return send_file(path_file, as_attachment=True)


@result_blueprint.route("/data-visualization", methods=["GET"])
def data_visualization():
	"""
	Visualizate the HTML generated by R markdown
	"""

	return render_template('/results/results.html')
